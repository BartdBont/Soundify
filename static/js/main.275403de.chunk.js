(this.webpackJsonpsoundify=this.webpackJsonpsoundify||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),s=n.n(a),i=n(12),o=n.n(i),r=(n(116),n(10)),l=(n(117),n(118),"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("afad9457fdfb4692a7e012c0707529e0","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"].join("%20"),"&response_type=token&show_dialog=true")),j=n(197),d=n(69),u=n(208),b=n(200),O=n(210),h=n(201),x=n(202),f=n(203),m=n(194),v=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var p=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),o=Object(r.a)(i,2),m=o[0],p=o[1],y=v();return Object(c.jsx)(j.a,{maxWidth:"xs",component:"main",children:Object(c.jsxs)("div",{className:"login",children:[Object(c.jsxs)("div",{className:y.paper,children:[Object(c.jsx)("p",{children:"Soundify"}),Object(c.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(c.jsxs)("form",{noValidate:!0,className:y.form,children:[Object(c.jsx)(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:function(e){return s(e.currentTarget.value)},autoComplete:"email",autoFocus:!0}),Object(c.jsx)(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return p(e.currentTarget.value)},autoComplete:"current-password"}),Object(c.jsx)(b.a,{control:Object(c.jsx)(O.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(c.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:y.submit,onClick:console.log("".concat(n," and ").concat(m)),children:"Sign In"}),Object(c.jsxs)(x.a,{container:!0,children:[Object(c.jsx)(x.a,{item:!0,xs:!0,children:Object(c.jsx)(f.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(c.jsx)(x.a,{item:!0,children:Object(c.jsx)(f.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(c.jsx)("a",{href:l,children:"LOGIN WITH SPOTIFY"})]})})},y=n(87),g=n.n(y),_=(n(122),n(123),n(15));n(124);var S=function(e){var t=e.title,n=e.playlist,a=e.Icon,s=e.linkto,i=Object(_.g)(),o=void 0!==n,r=function(){return a?Object(c.jsx)("h4",{children:t}):Object(c.jsx)("p",{children:t})},l=function(){return a?Object(c.jsx)("h4",{children:null===n||void 0===n?void 0:n.name}):Object(c.jsx)("p",{children:null===n||void 0===n?void 0:n.name})};return Object(c.jsxs)("div",{className:"sidebarOption",onClick:function(){o?i.push("".concat(s,"/").concat(null===n||void 0===n?void 0:n.id)):i.push(s)},children:[a&&Object(c.jsx)(a,{className:"sidebarOption__icon"}),o?Object(c.jsx)(l,{}):Object(c.jsx)(r,{})]})},N=n(88),w=n.n(N),k=n(58),I=n.n(k),C=n(89),E=n.n(C),T=n(90),P=n.n(T),L=n(211),R=n(204),W=n(205),Y=n(206),M=n(55),B=n(56),z=n(57),A=n.n(z),D=A.a.create({baseURL:"http://localhost:8080/spotify/v1/",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0IiwiZXhwIjoxNjA2ODY4MDA3LCJpYXQiOjE2MDY4MzIwMDd9.fWQj326lHBU7rwWRSIaGwupQ8BjHPmFxp6YBBcTNP44"}}),J=new(function(){function e(){Object(M.a)(this,e)}return Object(B.a)(e,[{key:"createPlaylist",value:function(e){return D.post("playlists",e).then((function(e){return e.data}))}},{key:"getPlaylists",value:function(){return D.get("playlists").then((function(e){return console.log(e.data),e.data}))}},{key:"getPlaylist",value:function(e){return D.get("playlists/".concat(e)).then((function(e){return e.data}))}}]),e}());var G=function(e){var t=e.open,n=e.setOpen,s=e.setEdited,i=Object(a.useState)(""),o=Object(r.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(""),b=Object(r.a)(d,2),O=b[0],x=b[1],f=function(){n(!1)};return Object(c.jsxs)(L.a,{open:t,onClose:f,className:"dialog",children:[Object(c.jsx)(R.a,{children:"Create Playlist"}),Object(c.jsxs)(W.a,{children:[Object(c.jsx)(u.a,{autoFocus:!0,margin:"dense",label:"Name",onChange:function(e){return j(e.target.value)},fullWidth:!0}),Object(c.jsx)(u.a,{margin:"dense",label:"Description",placeholder:"Give your playlist a catchy description",onChange:function(e){return x(e.target.value)},fullWidth:!0})]}),Object(c.jsxs)(Y.a,{children:[Object(c.jsx)(h.a,{onClick:f,color:"secondary",children:"Cancel"}),Object(c.jsx)(h.a,{onClick:function(){var e={name:l,description:O};J.createPlaylist(e).then((function(e){console.log(e),s(!0)})),n(!1)},className:"createButton",children:"Create"})]})]})};var U=function(){var e=Object(_.g)(),t=Object(a.useState)(!1),n=Object(r.a)(t,2),s=n[0],i=n[1],o=Object(a.useState)(),l=Object(r.a)(o,2),j=l[0],d=l[1],u=Object(a.useState)(!1),b=Object(r.a)(u,2),O=b[0],h=b[1];return Object(a.useEffect)((function(){J.getPlaylists().then((function(e){d(e)})),h(!1)}),[O]),Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)("img",{className:"sidebar__logo",src:"https://i.imgur.com/dT8rSvy.png",alt:"",onClick:function(){e.push("/")}}),Object(c.jsx)(S,{Icon:w.a,title:"Home",linkto:"/"}),Object(c.jsx)(S,{Icon:I.a,title:"Search",linkto:"/search"}),Object(c.jsx)(S,{Icon:E.a,title:"Your Library",linkto:"/your_library"}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"playlist",children:[Object(c.jsx)("strong",{className:"sidebar__title",children:"PLAYLISTS"}),Object(c.jsx)(P.a,{className:"addIcon",fontSize:"small",onClick:function(){i(!0)}})]}),Object(c.jsx)(G,{open:s,setOpen:i,setEdited:h}),Object(c.jsx)("hr",{}),null===j||void 0===j?void 0:j.map((function(e,t){return Object(c.jsx)(S,{playlist:e,title:e.name,linkto:"/your_playlist"},t)}))]})},V=(n(145),n(146),n(212)),Q=Object(a.createContext)(),X=function(e){var t=e.initialState,n=e.reducer,s=e.children;return Object(c.jsx)(Q.Provider,{value:Object(a.useReducer)(n,t),children:s})},H=function(){return Object(a.useContext)(Q)};var F=function(){var e,t=Object(_.g)(),n=H(),s=Object(r.a)(n,1)[0].user,i=Object(a.useState)(""),o=Object(r.a)(i,2),l=o[0],j=o[1];return Object(c.jsxs)("div",{className:"header",children:[Object(c.jsxs)("div",{className:"header__left",children:[Object(c.jsx)(I.a,{}),Object(c.jsx)("input",{placeholder:"Search for Artists or Songs",type:"text",onKeyDown:function(e){"Enter"===e.key&&(j(""),t.push("/search/".concat(l)))},value:l,onChange:function(e){return j(e.target.value)}})]}),Object(c.jsxs)("div",{className:"header__right",children:[Object(c.jsx)(V.a,{src:null===s||void 0===s||null===(e=s.images[0])||void 0===e?void 0:e.url,alt:null===s||void 0===s?void 0:s.username}),Object(c.jsx)("h4",{children:null===s||void 0===s?void 0:s.username})]})]})},K=n(59);var Z=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Your library"}),Object(c.jsx)(K.a,{videoId:"83xBPCw5hh4",opts:{height:"390",width:"640",playerVars:{autoplay:-1}},onReady:function(e){}})]})},q=n(207);n(158);var $=function(e){var t,n,a,s=e.song,i=H(),o=Object(r.a)(i,2)[1];return Object(c.jsxs)("div",{className:"songRow",onClick:function(){o({type:"SET_SONG",song:s})},children:[Object(c.jsx)("img",{className:"songRow__album",src:null===s||void 0===s||null===(t=s.album)||void 0===t?void 0:t.image,alt:""}),Object(c.jsxs)("div",{className:"songRow__info",children:[Object(c.jsx)("h1",{children:null===s||void 0===s?void 0:s.name}),Object(c.jsxs)("p",{children:[null===s||void 0===s||null===(n=s.artist)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.name})).join(", ")," -"," ",null===s||void 0===s||null===(a=s.album)||void 0===a?void 0:a.name]})]}),Object(c.jsx)("div",{className:"songRow__options",children:Object(c.jsx)(q.a,{})})]})},ee=n(60),te=n.n(ee),ne=n(61),ce=n.n(ne),ae=n(62),se=n.n(ae);n(159);var ie=function(e){e.spotify;var t=Object(a.useState)(),n=Object(r.a)(t,2),s=n[0],i=n[1],o=Object(_.h)().id;Object(a.useEffect)((function(){J.getPlaylist(o).then((function(e){i(e)}))}),[o]);var l=function(){return Object(c.jsxs)("div",{className:"emptyPlaylist",children:[Object(c.jsx)("h1",{children:"This playlist is currently empty"}),Object(c.jsx)("h4",{children:"Find more of the music you love in the charts"})]})};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"body__info",children:Object(c.jsxs)("div",{className:"body__infoText",children:[Object(c.jsx)("strong",{children:"PLAYLIST"}),Object(c.jsx)("h2",{children:null===s||void 0===s?void 0:s.name}),Object(c.jsx)("p",{children:null===s||void 0===s?void 0:s.description})]})}),Object(c.jsxs)("div",{className:"body__songs",children:[Object(c.jsxs)("div",{className:"body__icons",children:[Object(c.jsx)(te.a,{className:"body__shuffle"}),Object(c.jsx)(ce.a,{fontSize:"large"}),Object(c.jsx)(se.a,{})]}),(null===s||void 0===s?void 0:s.songs.length)?null===s||void 0===s?void 0:s.songs.map((function(e){return Object(c.jsx)($,{song:e})})):Object(c.jsx)(l,{})]})]})},oe=A.a.create({baseURL:"http://localhost:8080/spotify/v1/",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0IiwiZXhwIjoxNjA2ODY4MDA3LCJpYXQiOjE2MDY4MzIwMDd9.fWQj326lHBU7rwWRSIaGwupQ8BjHPmFxp6YBBcTNP44"}}),re=new(function(){function e(){Object(M.a)(this,e)}return Object(B.a)(e,[{key:"getSearchResult",value:function(e){return oe.get("songs?name=".concat(e)).then((function(e){return e.data}))}}]),e}());n(160);var le=function(e){e.spotify;var t=Object(a.useState)([]),n=Object(r.a)(t,2),s=n[0],i=n[1],o=Object(_.h)().term,l=Object(a.useState)(void 0!==o),j=Object(r.a)(l,2),d=j[0],u=j[1],b=Object(a.useState)(10),O=Object(r.a)(b,2),h=O[0],x=O[1];Object(a.useEffect)((function(){void 0!==o?(re.getSearchResult(o).then((function(e){i(e)})),u(!0)):u(!1),x(10)}),[o]);var f=function(){return(null===s||void 0===s?void 0:s.length)?null===s||void 0===s?void 0:s.slice(0,h).map((function(e,t){return Object(c.jsx)($,{song:e},t)})):Object(c.jsx)("h1",{className:"empty",children:"no song found"})},m=function(){return Object(c.jsx)("strong",{className:"empty",children:"Search for a song by title"})},v=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"Search Result"}),Object(c.jsx)("h2",{children:o})]})};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"body__info",children:Object(c.jsx)("div",{className:"body__infoText",children:d?Object(c.jsx)(v,{}):Object(c.jsx)(m,{})})}),Object(c.jsxs)("div",{className:"body__songs",children:[d&&Object(c.jsx)(f,{}),h>=50?Object(c.jsx)("h4",{children:" "}):d?Object(c.jsx)("h4",{className:"viewMore",onClick:function(){x(h+10)},children:"More results"}):Object(c.jsx)("h4",{children:" "})]})]})};var je=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"404 not found!"})})};var de=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"body__info",children:Object(c.jsxs)("div",{className:"body__infoText",children:[Object(c.jsx)("strong",{children:"PLAYLIST"}),Object(c.jsx)("h2",{children:"Discover Weekly"}),Object(c.jsx)("p",{})]})}),Object(c.jsx)("div",{className:"body__songs",children:Object(c.jsxs)("div",{className:"body__icons",children:[Object(c.jsx)(te.a,{className:"body__shuffle"}),Object(c.jsx)(ce.a,{fontSize:"large"}),Object(c.jsx)(se.a,{})]})})]})};var ue=function(e){var t=e.spotify;return Object(c.jsxs)("div",{className:"body",children:[Object(c.jsx)(F,{spotify:t}),Object(c.jsxs)(_.d,{children:[Object(c.jsx)(_.b,{exact:!0,path:"/",component:de}),Object(c.jsx)(_.b,{exact:!0,path:"/your_library",component:Z}),Object(c.jsx)(_.b,{exact:!0,path:"/your_playlist/:id",component:ie}),Object(c.jsx)(_.b,{exact:!0,path:"/search/:term",component:le}),Object(c.jsx)(_.b,{exact:!0,path:"/search",component:le}),Object(c.jsx)(_.b,{exact:!0,path:"/404",component:je}),Object(c.jsx)(_.a,{to:"/404"})]})]})},be=(n(161),n(95)),Oe=n.n(be),he=n(94),xe=n.n(he),fe=n(97),me=n.n(fe),ve=n(93),pe=n.n(ve),ye=n(68),ge=n.n(ye),_e=n(213),Se=n(98),Ne=n.n(Se),we=n(101),ke=n.n(we),Ie=n(96),Ce=n.n(Ie),Ee=n(100),Te=n.n(Ee),Pe=n(99),Le=n.n(Pe),Re=null;var We=function(e){var t=e.paused,n=e.muted,s=e.volume,i=e.id,o=e.loop,l=H(),j=Object(r.a)(l,1)[0].song;return Object(a.useEffect)((function(){Re&&Re.target.playVideo()}),[j]),Object(a.useEffect)((function(){Re&&(t?Re.target.pauseVideo():Re.target.playVideo())}),[t]),Object(a.useEffect)((function(){Re&&(n?Re.target.mute():Re.target.unMute())}),[n]),Object(a.useEffect)((function(){Re&&Re.target.setVolume(s)}),[s]),Object(c.jsx)(K.a,{videoId:i,opts:{height:"0",width:"0",playerVars:{autoplay:-1}},onReady:function(e){Re=e,e.target.setVolume(s)},onStateChange:function(e){0===e.data&&o&&e.target.seekTo(0)}})};var Ye=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!0),o=Object(r.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(!1),u=Object(r.a)(d,2),b=u[0],O=u[1],h=Object(a.useState)(!1),f=Object(r.a)(h,2),m=f[0],v=f[1],p=Object(a.useState)(30),y=Object(r.a)(p,2),g=y[0],_=y[1],S=function(){s(!n),j(!l)},N=function(){O(!b)},w=function(){v(!m)};return Object(c.jsxs)("div",{className:"footer",children:[Object(c.jsxs)("div",{className:"footer__left",children:[Object(c.jsx)("img",{className:"footer__albumLogo",src:"https://upload.wikimedia.org/wikipedia/en/2/2e/Usher-yeah.jpg",alt:""}),Object(c.jsxs)("div",{className:"footer__songInfo",children:[Object(c.jsx)("h4",{children:"Yeah!"}),Object(c.jsx)("p",{children:"Usher"})]})]}),Object(c.jsxs)("div",{className:"footer__center",children:[Object(c.jsx)(pe.a,{className:"footer__green"}),Object(c.jsx)(xe.a,{className:"footer__icon"}),n?Object(c.jsx)(Ce.a,{fontSize:"large",className:"footer__icon",onClick:S}):Object(c.jsx)(Oe.a,{fontSize:"large",className:"footer__icon",onClick:S}),Object(c.jsx)(me.a,{className:"footer__icon"}),m?Object(c.jsx)(ge.a,{className:"footer__green",onClick:w}):Object(c.jsx)(ge.a,{onClick:w}),Object(c.jsx)(We,{paused:l,muted:b,volume:g,loop:m,id:"-GXGkHdK9CM"})]}),Object(c.jsx)("div",{className:"footer__right",children:Object(c.jsxs)(x.a,{container:!0,spacing:2,children:[Object(c.jsx)(x.a,{item:!0,children:Object(c.jsx)(Ne.a,{})}),Object(c.jsx)(x.a,{item:!0,children:b?Object(c.jsx)(Le.a,{onClick:N}):g>50?Object(c.jsx)(Te.a,{onClick:N}):Object(c.jsx)(ke.a,{onClick:N})}),Object(c.jsx)(x.a,{item:!0,xs:!0,children:Object(c.jsx)(_e.a,{value:g,onChange:function(e,t){_(t),t<1?O(!0):b&&N()}})})]})})]})};var Me=function(e){return e.spotify,Object(c.jsxs)("div",{className:"player",children:[Object(c.jsxs)("div",{className:"player_body",children:[Object(c.jsx)(U,{}),Object(c.jsx)(ue,{})]}),Object(c.jsx)(Ye,{})]})},Be=new g.a;var ze=function(){var e=H(),t=Object(r.a)(e,2),n=t[0].token,s=t[1];return Object(a.useEffect)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e}),{});window.location.hash="";var t=e.access_token;t&&(s({type:"SET_TOKEN",token:t}),Be.setAccessToken(t),Be.getMe().then((function(e){s({type:"SET_USER",user:e})})),Be.getUserPlaylists().then((function(e){s({type:"SET_PLAYLISTS",playlists:e})})),Be.getPlaylist("37i9dQZEVXcMcM5Lwcw5MG").then((function(e){s({type:"SET_DISCOVER_WEEKLY",discover_weekly:e})})))}),[s]),Object(c.jsx)("div",{className:"app",children:n?Object(c.jsx)(Me,{spotify:Be}):Object(c.jsx)(p,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=n(28),De=function(e,t){switch(console.log(e,t),t.type){case"SET_USER":return Object(Ae.a)(Object(Ae.a)({},e),{},{user:t.user});case"SET_TOKEN":return Object(Ae.a)(Object(Ae.a)({},e),{},{token:t.token});case"SET_PLAYLISTS":return Object(Ae.a)(Object(Ae.a)({},e),{},{playlists:t.playlists});case"SET_DISCOVER_WEEKLY":return Object(Ae.a)(Object(Ae.a)({},e),{},{discover_weekly:t.discover_weekly});case"SET_SONG":return Object(Ae.a)(Object(Ae.a)({},e),{},{song:t.song});default:return e}},Je=n(33);o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(X,{initialState:{user:null,playlists:[],playing:!1,item:null,song:null,token:"BQAWdy_tf8Wr7yXRIoCElVOCkvxKU0oL4lAIWGFM1Q0WpGPIvVhDZCmj_UjTpOBSRE7tQ72SgLSWvSOOpl15xlIjNtIr62uJhJhQ6EQXGi8yCYd-dZS6E6T09HcL5bngIX7bzO17Ip75IBycoR7nPfIH1m8ziqGL"},reducer:De,children:Object(c.jsx)(Je.a,{children:Object(c.jsx)(ze,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[162,1,2]]]);
//# sourceMappingURL=main.275403de.chunk.js.map